# 硬件错误

当我们思考系统失效的原因时，最先想到的是硬件错误。硬盘介质损坏、RAM错误、电网掉电、或者运维人员拔掉了错误的网线。当拥有一定规模的硬件时，
这种错误*分分钟*会冒出来几个，每个在大型数据中心工作过的人必定都有这种经验。

报告称硬盘有10-50年的平均失效时间[[5,6]](README.md#b1_c1_5)。据此推算，一个有着10,000块磁盘的存储集群中每天会有一块磁盘完全
损坏。

第一反应往往是给每个独立的硬件组件增加冗余的备件来降低整体系统的失效率。磁盘可以配置RAID、服务器可以安插两个电源、让CPU具备热插拔能力、而
整个数据中心要配备电池（译者注：UPS）或者柴油发电机作为备用供电。当一个组件损坏时，冗余组件可以在替换损坏组件时发挥作用。这种方法虽然不能
完全防止硬件故障导致系统失效，但是非常简易，并且能保证一台机器不间断的运行好几年。

直到不久前，由于有效扼制了系统的整体失效，这种靠冗余硬件组件提供的可靠性对很多应用来说是足够的。另一方面，只要能很快地将备份恢复到一台新的
机器中，万一出现了节点失效而导致的宕机也不会是灾难性的。因而，只有一小部分特别注重可用性的应用才真正的需要多节点的冗余。

然而，随着应用的数据量和计算需求的增长，越来越多的应用开始使用更多的计算节点，相应地，这些应用也将面对越来越多的硬件失效。值得一提的是，像
AWS一样，在使用云平台的过程中，虚拟机实例在没有报警的情况下突然失去响应是一件很常见的事[[7]](README.md#b1_c1_7)。相比于单点的可
靠性，这些云平台更注重整体集群的弹性和灵活性。

因此，使用软件容错技术实现可以容忍多服务节点宕机的系统成为了一个趋势。这样的系统在运营上也具备许多优势：比如当需要安装操作系统安全补丁时，
单节点系统需要安排下线的时间计划以重启机器，而一个允许多点失效的系统可以分批安装补丁重启机器同时还保持整体服务在线
（*滚动升级*；查看[第四章](../c4/README.md)）。
